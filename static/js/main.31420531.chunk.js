(this.webpackJsonpvoicemail=this.webpackJsonpvoicemail||[]).push([[0],{100:function(e,t,a){e.exports={"MuiToolbar-root":"tablemail_MuiToolbar-root__3gNI6"}},125:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(10),r=a.n(i),o=(a(99),a(43)),s=a(44),c=a(80),d=a(79),m=a(73),u=(a(100),a(186)),h=a(176),g=a(8),p=a(188),f=a(3),v=a(196),E=a(197),b=a(182),S=a(195),y=a(179),C=a(206),k=a(181),w=a(209),P=a(183),O=a(81),N=a(205),x=a(127),M=a(207),T=a(199),j=a(200),A=a(77),_=a.n(A),B=a(78),R=a.n(B),V=(a(101),a(74)),I=a.n(V),D="NDY0MmU2NDA0MGNkYjhiODljMzEwYTIxYTA3YzdmNjI6MjMyNjQxNTY1OTA3NWU3NTAwMGNlY2Q3YmNiZjM3NTY=",L=("Basic ".concat(D),{headers:{Accept:"application/json",Authorization:"Basic "+D,"Access-Control-Allow-Origin":"*"}}),Y=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"retrieveAllSchemas",value:function(){return fetch("".concat("http://localhost:8080/voicemail/messages","/schemas"))}},{key:"retrieveAllVmBoxes",value:function(){return fetch("https://eliotest-heroku-spring.herokuapp.com/voicemail/messages")}},{key:"retrieveMessageId",value:function(e,t){return I.a.post("https://sandbox.2600hz.com:8443/v2/accounts/".concat("4642e64040cdb8b89c310a21a07c7f62","/vmboxes/").concat("b37675a2d7b90d60f0ee5d4175502394","/messages/").concat(e),t,L)}}]),e}()),W=a(210),F=a(211),z=a(198),q=a(191),G=a(203),J=a(37),Q=(a(119),a(194)),U=a(187),H=a(208),K=a(193),Z=a(190),$=a(189),X=a(192),ee=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},alert:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},container_dialog:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},progress:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),te=Object(h.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ae(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var ne=[{id:"folder",numeric:!1,disablePadding:!0,label:"Status"},{id:"from",numeric:!0,disablePadding:!1,label:"From"},{id:"to",numeric:!0,disablePadding:!1,label:"To"},{id:"duration",numeric:!0,disablePadding:!1,label:"Duration"}];function le(e){e.classes;var t=e.onSelectAllClick,a=e.order,n=e.orderBy,i=e.numSelected,r=e.rowCount,o=e.onRequestSort;return l.a.createElement(y.a,null,l.a.createElement(k.a,null,l.a.createElement(b.a,{padding:"checkbox"},l.a.createElement(N.a,{indeterminate:i>0&&i<r,checked:r>0&&i===r,onChange:t,inputProps:{"aria-label":"select all desserts"},style:{display:"none"}})),ne.map((function(e){return l.a.createElement(b.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},l.a.createElement(w.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){o(e,t)})},e.label,n===e.id?"":null));var t}))))}var ie=Object(h.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%",color:"#F5F5F5"}}})),re=function(e){var t=ie(),a=e.numSelected;return l.a.createElement(P.a,{className:Object(f.a)(t.root,Object(m.a)({},t.highlight,a>0)),style:{backgroundColor:"darkcyan"}},a>0?l.a.createElement(O.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):l.a.createElement(O.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"VoiceMail"),a>0?l.a.createElement(M.a,{title:"Delete"},l.a.createElement(x.a,{"aria-label":"delete"},l.a.createElement(_.a,null))):l.a.createElement(M.a,{title:"Filter list"},l.a.createElement(x.a,{"aria-label":"filter list"},l.a.createElement(R.a,null))))},oe=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).succsessMessage=function(e){J.b.success(e,{position:J.b.POSITION.TOP_CENTER})},n.errorMessage=function(e){J.b.error(e,{position:J.b.POSITION.TOP_CENTER})},n.handleRequestSort=function(e,t){var a=n.state.orderBy===t&&"asc"===n.state.order;n.setState({order:a?"desc":"asc",orderBy:t})},n.handleSelectAllClick=function(e){if(e.target.checked){var t=n.state.dataVoicemail.map((function(e){return e.name}));n.setState({selected:t})}else n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected.indexOf(t),l=[],i=n.state.selected;-1===a?l=l.concat(i,t):0===a?l=l.concat(i.slice(1)):a===i.length-1?l=l.concat(i.slice(0,-1)):a>0&&(l=l.concat(i.slice(0,a),i.slice(a+1))),n.setState({selected:l})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:parseInt(e.target.value,10)}),n.setState({page:0})},n.handleChangeDense=function(e){n.setState({dense:e.target.checked})},n.handleChange=function(e){n.setState({voicemailSelected:e.target.value})},n.handleClickOpen=function(){n.callApi(),n.setState({open:!0})},n.handleClose=function(){n.selectVoicemail(),n.setState({open:!1})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.state={order:"asc",orderBy:"folder",selected:[],page:0,dense:!1,rowsPerPage:5,dataVoicemail:[],dataArray:{},isLoading:!1,open:!1,voicemailSelected:"new",errorMessage:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.handleClickOpen()}},{key:"callMessageId",value:function(e,t){var a=this;Y.retrieveMessageId(e,t).then((function(e){a.setState({isLoading:!1}),a.setState({errorMessage:""}),a.succsessMessage("Modified Succsessfuly")})).catch((function(e){a.setState({isLoading:!1}),a.errorMessage("Oh! There is an error: "+e),a.setState({errorMessage:"CORS ERROR: please install extension Acces control Origin: CORS."})}))}},{key:"callApi",value:function(){var e=this;Y.retrieveAllVmBoxes().then((function(e){return e.json()})).then((function(t){e.setState({dataArray:t});var a=[];e.state.dataArray.data.map((function(e,t){var n=e.length/1e3;a.push({media_id:e.media_id,folder:e.folder,from:e.caller_id_name,to:String(e.to).substring(0,String(e.to).indexOf("@")),duration:n+" Seconds"})})),e.setState({dataVoicemail:a}),e.setState({isLoading:!1})}),(function(t){e.setState({isLoading:!1}),console.error(t)}))}},{key:"handleChangeStatus",value:function(e){this.setState({isLoading:!0});var t={data:{folder:e.target.value}},a=[];this.state.dataVoicemail.map((function(t){a.push({media_id:t.media_id,folder:t.media_id===e.target.name?e.target.value:t.folder,from:t.from,to:t.to,duration:t.duration})})),this.callMessageId(e.target.name,t),document.getElementsByName(e.target.name)[0].previousSibling.style.color="green",this.setState({dataVoicemail:a})}},{key:"selectVoicemail",value:function(){var e=this,t=[];this.state.dataVoicemail.map((function(a){a.folder===e.state.voicemailSelected&&t.push(a)})),this.setState({dataVoicemail:t})}},{key:"render",value:function(){var e,t,a=this,n=this.state.rowsPerPage-Math.min(this.state.rowsPerPage,this.state.dataVoicemail.length-this.state.page*this.state.rowsPerPage);return l.a.createElement(l.a.Fragment,null,""!==this.state.errorMessage&&l.a.createElement("div",{style:{marginTop:15},className:"alert alert-danger",role:"alert"},this.state.errorMessage),l.a.createElement("h1",null,"Welcome"),l.a.createElement(u.a,{container:!0,spacing:1},l.a.createElement(u.a,{item:!0,xs:12,sm:12},l.a.createElement("div",null,l.a.createElement(U.a,{variant:"contained",color:"primary",onClick:this.handleClickOpen},"Select voicemail"),l.a.createElement(H.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.state.open,onClose:this.handleClose},l.a.createElement($.a,null,"Select voicemail to open"),l.a.createElement(Z.a,null,l.a.createElement("form",{className:ee.container_dialog},l.a.createElement(q.a,{className:ee.formControl,style:{width:"100%"}},l.a.createElement(G.a,{native:!0,value:this.state.voicemailSelected,onChange:this.handleChange,input:l.a.createElement(X.a,{id:"demo-dialog-native"})},l.a.createElement("option",{value:"new"},"New"),l.a.createElement("option",{value:"saved"},"Saved"),l.a.createElement("option",{value:"deleted"},"Deleted"))))),l.a.createElement(K.a,null,l.a.createElement(U.a,{disabled:!0,onClick:this.handleClose,color:"primary"},"Cancel"),l.a.createElement(U.a,{onClick:this.handleClose,color:"primary"},"Ok")))))),this.state.isLoading&&l.a.createElement("div",{className:ee.progress},l.a.createElement(Q.a,null),l.a.createElement(Q.a,{color:"secondary"})),l.a.createElement("div",{className:ee.root},l.a.createElement(u.a,{container:!0,spacing:1},l.a.createElement(u.a,{item:!0,xs:12,sm:12},l.a.createElement("div",{className:te.root},l.a.createElement(p.a,{className:te.paper},l.a.createElement(re,{numSelected:this.state.selected.length}),l.a.createElement(S.a,null,l.a.createElement(v.a,{className:te.table,"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table"},l.a.createElement(le,{classes:te,numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onRequestSort:this.handleRequestSort.bind(this),rowCount:this.state.dataVoicemail.length}),l.a.createElement(E.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(this.state.dataVoicemail,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,a){return ae(e,a,t)}:function(e,a){return-ae(e,a,t)})).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(e,t){var n=a.isSelected(e.media_id),i="enhanced-table-checkbox-".concat(t);return l.a.createElement(k.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:e.media_id,selected:n},l.a.createElement(b.a,{padding:"checkbox"},l.a.createElement(N.a,{style:{display:"none"},checked:n,inputProps:{"aria-labelledby":i}})),l.a.createElement(b.a,{component:"th",id:i,scope:"row",padding:"none"},l.a.createElement(q.a,{className:ee.formControl},l.a.createElement(W.a,{id:"demo-simple-select-helper-label"},"Status"),l.a.createElement(G.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",name:e.media_id,value:e.folder,selected:e.folder,onChange:a.handleChangeStatus.bind(a),inputProps:a.state.isLoading?{readOnly:!0}:""},l.a.createElement(F.a,{value:"new"},"New"),l.a.createElement(F.a,{value:"deleted"},"Deleted"),l.a.createElement(F.a,{value:"saved"},"Saved")),l.a.createElement(z.a,null,a.state.messageResult))),l.a.createElement(b.a,{align:"right"},e.from),l.a.createElement(b.a,{align:"right"},e.to),l.a.createElement(b.a,{align:"right"},e.duration))})),n>0&&l.a.createElement(k.a,{style:{height:(this.state.dense?33:53)*n}},l.a.createElement(b.a,{colSpan:6}))))),l.a.createElement(C.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.state.dataVoicemail.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),l.a.createElement(T.a,{control:l.a.createElement(j.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"})))),l.a.createElement(J.a,null)))}}]),a}(n.Component),se=(a(125),a(201)),ce=a(202);var de=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(se.a,null),l.a.createElement(ce.a,{maxWidth:"md"},l.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(126)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.31420531.chunk.js.map