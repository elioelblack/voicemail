(this.webpackJsonpvoicemail=this.webpackJsonpvoicemail||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),l=a.n(i),o=(a(89),a(40)),s=a(41),c=a(73),d=a(72),m=a(66),u=(a(90),a(173)),h=a(163),g=a(10),p=a(174),f=a(3),b=a(176),v=a(177),E=a(169),y=a(175),S=a(166),P=a(186),w=a(168),k=a(188),C=a(170),N=a(118),O=a(185),x=a(117),M=a(187),j=a(180),T=a(181),A=a(70),B=a.n(A),I=a(71),_=a.n(I),V=(a(91),a(67)),D=a.n(V),R="NDY0MmU2NDA0MGNkYjhiODljMzEwYTIxYTA3YzdmNjI6MjMyNjQxNTY1OTA3NWU3NTAwMGNlY2Q3YmNiZjM3NTY=",L=("Basic ".concat(R),{headers:{Accept:"application/json",Authorization:"Basic "+R,"Access-Control-Allow-Origin":"*"}}),Y=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"retrieveAllSchemas",value:function(){return fetch("".concat("http://localhost:8080/voicemail/messages","/schemas"))}},{key:"retrieveAllVmBoxes",value:function(){return fetch("https://eliotest-heroku-spring.herokuapp.com/voicemail/messages")}},{key:"retrieveMessageId",value:function(e,t){return D.a.post("https://sandbox.2600hz.com:8443/v2/accounts/".concat("4642e64040cdb8b89c310a21a07c7f62","/vmboxes/").concat("b37675a2d7b90d60f0ee5d4175502394","/messages/").concat(e),t,L)}}]),e}()),F=a(189),W=a(190),z=a(179),q=a(178),G=a(184),J=a(34),Q=(a(109),a(172)),U=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},progress:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),H=Object(h.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Z(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var $=[{id:"folder",numeric:!1,disablePadding:!0,label:"Status"},{id:"from",numeric:!0,disablePadding:!1,label:"From"},{id:"to",numeric:!0,disablePadding:!1,label:"To"},{id:"duration",numeric:!0,disablePadding:!1,label:"Duration"}];function K(e){e.classes;var t=e.onSelectAllClick,a=e.order,n=e.orderBy,i=e.numSelected,l=e.rowCount,o=e.onRequestSort;return r.a.createElement(S.a,null,r.a.createElement(w.a,null,r.a.createElement(E.a,{padding:"checkbox"},r.a.createElement(O.a,{indeterminate:i>0&&i<l,checked:l>0&&i===l,onChange:t,inputProps:{"aria-label":"select all desserts"},style:{display:"none"}})),$.map((function(e){return r.a.createElement(E.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(k.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){o(e,t)})},e.label,n===e.id?"":null));var t}))))}var X=Object(h.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%",color:"#F5F5F5"}}})),ee=function(e){var t=X(),a=e.numSelected;return r.a.createElement(C.a,{className:Object(f.a)(t.root,Object(m.a)({},t.highlight,a>0)),style:{backgroundColor:"darkcyan"}},a>0?r.a.createElement(N.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):r.a.createElement(N.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"VoiceMail"),a>0?r.a.createElement(M.a,{title:"Delete"},r.a.createElement(x.a,{"aria-label":"delete"},r.a.createElement(B.a,null))):r.a.createElement(M.a,{title:"Filter list"},r.a.createElement(x.a,{"aria-label":"filter list"},r.a.createElement(_.a,null))))},te=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).succsessMessage=function(e){J.b.success(e,{position:J.b.POSITION.TOP_CENTER})},n.errorMessage=function(e){J.b.error(e,{position:J.b.POSITION.TOP_CENTER})},n.handleRequestSort=function(e,t){var a=n.state.orderBy===t&&"asc"===n.state.order;n.setState({order:a?"desc":"asc",orderBy:t})},n.handleSelectAllClick=function(e){if(e.target.checked){var t=n.state.dataVoicemail.map((function(e){return e.name}));n.setState({selected:t})}else n.setState({selected:[]})},n.handleClick=function(e,t){var a=n.state.selected.indexOf(t),r=[],i=n.state.selected;-1===a?r=r.concat(i,t):0===a?r=r.concat(i.slice(1)):a===i.length-1?r=r.concat(i.slice(0,-1)):a>0&&(r=r.concat(i.slice(0,a),i.slice(a+1))),n.setState({selected:r})},n.handleChangePage=function(e,t){n.setState({page:t})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:parseInt(e.target.value,10)}),n.setState({page:0})},n.handleChangeDense=function(e){n.setState({dense:e.target.checked})},n.isSelected=function(e){return-1!==n.state.selected.indexOf(e)},n.state={order:"asc",orderBy:"folder",selected:[],page:0,dense:!1,rowsPerPage:5,dataVoicemail:[],dataArray:{},isLoading:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.callApi()}},{key:"callMessageId",value:function(e,t){var a=this;Y.retrieveMessageId(e,t).then((function(e){a.setState({isLoading:!1}),a.succsessMessage("Modified Succsessfuly")})).catch((function(e){a.setState({isLoading:!1}),a.errorMessage("Oh! There is an error: "+e)}))}},{key:"callApi",value:function(){var e=this;Y.retrieveAllVmBoxes().then((function(e){return e.json()})).then((function(t){e.setState({dataArray:t});var a=[];e.state.dataArray.data.map((function(e,t){var n=e.length/1e3;a.push({media_id:e.media_id,folder:e.folder,from:e.caller_id_name,to:String(e.to).substring(0,String(e.to).indexOf("@")),duration:n+" Seconds"})})),e.setState({dataVoicemail:a}),e.setState({isLoading:!1})}),(function(t){e.setState({isLoading:!1}),console.error(t)}))}},{key:"handleChangeStatus",value:function(e){this.setState({isLoading:!0});var t={data:{folder:e.target.value}},a=[];this.state.dataVoicemail.map((function(t){a.push({media_id:t.media_id,folder:t.media_id===e.target.name?e.target.value:t.folder,from:t.from,to:t.to,duration:t.duration})})),this.callMessageId(e.target.name,t),document.getElementsByName(e.target.name)[0].previousSibling.style.color="green",this.setState({dataVoicemail:a})}},{key:"render",value:function(){var e,t,a=this,n=this.state.rowsPerPage-Math.min(this.state.rowsPerPage,this.state.dataVoicemail.length-this.state.page*this.state.rowsPerPage);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome"),this.state.isLoading&&r.a.createElement("div",{className:U.progress},r.a.createElement(Q.a,null),r.a.createElement(Q.a,{color:"secondary"})),r.a.createElement("div",{className:U.root},r.a.createElement(u.a,{container:!0,spacing:1},r.a.createElement(u.a,{item:!0,xs:12,sm:12},r.a.createElement("div",{className:H.root},r.a.createElement(p.a,{className:H.paper},r.a.createElement(ee,{numSelected:this.state.selected.length}),r.a.createElement(y.a,null,r.a.createElement(b.a,{className:H.table,"aria-labelledby":"tableTitle",size:this.state.dense?"small":"medium","aria-label":"enhanced table"},r.a.createElement(K,{classes:H,numSelected:this.state.selected.length,order:this.state.order,orderBy:this.state.orderBy,onRequestSort:this.handleRequestSort.bind(this),rowCount:this.state.dataVoicemail.length}),r.a.createElement(v.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(this.state.dataVoicemail,(e=this.state.order,t=this.state.orderBy,"desc"===e?function(e,a){return Z(e,a,t)}:function(e,a){return-Z(e,a,t)})).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage).map((function(e,t){var n=a.isSelected(e.media_id),i="enhanced-table-checkbox-".concat(t);return r.a.createElement(w.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,key:e.media_id,selected:n},r.a.createElement(E.a,{padding:"checkbox"},r.a.createElement(O.a,{style:{display:"none"},checked:n,inputProps:{"aria-labelledby":i}})),r.a.createElement(E.a,{component:"th",id:i,scope:"row",padding:"none"},r.a.createElement(q.a,{className:U.formControl},r.a.createElement(F.a,{id:"demo-simple-select-helper-label"},"Status"),r.a.createElement(G.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",name:e.media_id,value:e.folder,selected:e.folder,onChange:a.handleChangeStatus.bind(a),inputProps:a.state.isLoading?{readOnly:!0}:""},r.a.createElement(W.a,{value:"new"},"New"),r.a.createElement(W.a,{value:"deleted"},"Deleted"),r.a.createElement(W.a,{value:"saved"},"Saved")),r.a.createElement(z.a,null,a.state.messageResult))),r.a.createElement(E.a,{align:"right"},e.from),r.a.createElement(E.a,{align:"right"},e.to),r.a.createElement(E.a,{align:"right"},e.duration))})),n>0&&r.a.createElement(w.a,{style:{height:(this.state.dense?33:53)*n}},r.a.createElement(E.a,{colSpan:6}))))),r.a.createElement(P.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.state.dataVoicemail.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),r.a.createElement(j.a,{control:r.a.createElement(T.a,{checked:this.state.dense,onChange:this.handleChangeDense}),label:"Dense padding"})))),r.a.createElement(J.a,null)))}}]),a}(n.Component),ae=(a(115),a(182)),ne=a(183);var re=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,null),r.a.createElement(ne.a,{maxWidth:"md"},r.a.createElement(te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports=a(116)},89:function(e,t,a){},90:function(e,t,a){e.exports={"MuiToolbar-root":"tablemail_MuiToolbar-root__3gNI6"}}},[[84,1,2]]]);
//# sourceMappingURL=main.ca42cc07.chunk.js.map